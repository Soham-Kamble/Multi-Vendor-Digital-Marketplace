{% extends 'myapp/base.html' %}

{% block body %}
<div class="min-h-screen flex justify-center items-center bg-gradient-to-b from-green-50 to-white p-6">

    <div class="bg-white shadow-2xl rounded-3xl p-10 max-w-lg w-full text-center transform transition-all duration-500 hover:scale-[1.02] animate-fadeIn">

        <!-- Animated Success Icon -->
        <div class="mb-6 flex items-center justify-center">
            <div class="w-28 h-28 bg-green-100 rounded-full flex items-center justify-center animate-pop">
                <svg class="w-16 h-16 text-green-600 animate-checkmark" fill="none" stroke="currentColor" stroke-width="3"
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
        </div>

        <!-- Success Title -->
        <h1 class="text-4xl font-extrabold text-green-600 mb-3 tracking-wide">
            Payment Successful!
        </h1>

        <p class="text-gray-700 text-lg mb-6">
            Thank you for purchasing <span class="font-semibold text-gray-900">{{ order.product.name }}</span>.
        </p>

        <!-- Order Details -->
        <div class="text-left bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm mb-6">
            <h2 class="text-lg font-semibold text-gray-800 mb-3">ðŸ§¾ Order Details</h2>

            <p class="text-gray-700"><strong>Order ID:</strong> {{ order.id }}</p>
            <p class="text-gray-700"><strong>Payment ID:</strong> {{ order.razor_payment_id }}</p>

            <p class="text-gray-700"><strong>Amount Paid:</strong> â‚¹{{ order.amount }}</p>

            <p class="text-gray-700">
                <strong>Date:</strong>
                {{ order.created_on|date:"M d, Y H:i" }}
            </p>
        </div>

        <!-- Buttons -->
        <div class="flex flex-col space-y-3">
            <a href="{% url 'purchases' %}"
               class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl font-semibold shadow-md transition transform hover:-translate-y-1">
                View Purchases
            </a>

            <a href="{% url 'index' %}"
               class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold shadow-sm transition">
                Continue Shopping
            </a>
        </div>
    </div>
</div>

<!-- Added animations -->
<style>
@keyframes pop {
  0% { transform: scale(0.5); opacity: 0; }
  80% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); }
}
@keyframes fadeIn {
  0% { opacity: 0; transform: translateY(25px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes checkmark {
  0% { stroke-dashoffset: 50; }
  100% { stroke-dashoffset: 0; }
}
.animate-pop { animation: pop 0.8s ease-out forwards; }
.animate-fadeIn { animation: fadeIn 0.7s ease-out forwards; }
.animate-checkmark {
  stroke-dasharray: 50;
  stroke-dashoffset: 50;
  animation: checkmark 1s ease-out forwards 0.3s;
}
</style>
{% endblock %}
